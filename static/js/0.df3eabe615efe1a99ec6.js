webpackJsonp([0],{"04VD":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("Dd8w"),a=n.n(s),i=n("woOf"),r=n.n(i),o=n("8Q2T"),c=n("NYxO"),l=n("oAV5"),u=n("26Oo"),d=n("2hfY"),h=n("FN8c"),v={name:"contest-list",components:{Pagination:u.a},data:function(){return{page:1,query:{status:"",keyword:"",rule_type:""},limit:10,total:0,rows:"",contests:[],CONTEST_STATUS_REVERSE:h.b,cur_contest_id:""}},beforeRouteEnter:function(t,e,n){o.a.getContestList(0,10).then(function(t){n(function(e){e.contests=t.data.data.results,e.total=t.data.data.total})},function(t){n()})},methods:{init:function(){var t=this.$route.query;this.query.status=t.status||"",this.query.rule_type=t.rule_type||"",this.query.keyword=t.keyword||"",this.page=parseInt(t.page)||1,this.limit=parseInt(t.limit)||10,this.getContestList(this.page)},getContestList:function(){var t=this,e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-1)*this.limit;o.a.getContestList(e,this.limit,this.query).then(function(e){t.contests=e.data.data.results,t.total=e.data.data.total})},changeRoute:function(){var t=r()({},this.query);t.page=this.page,t.limit=this.limit,this.$router.push({name:"contest-list",query:l.a.filterEmptyValue(t)})},onRuleChange:function(t){this.query.rule_type=t,this.page=1,this.changeRoute()},onStatusChange:function(t){this.query.status=t,this.page=1,this.changeRoute()},goContest:function(t){this.cur_contest_id=t.id,t.contest_type===h.c.PUBLIC||this.isAuthenticated?this.$router.push({name:"contest-details",params:{contestID:t.id}}):(this.$error(this.$i18n.t("m.Please_login_first")),this.$store.dispatch("changeModalStatus",{visible:!0}))},getDuration:function(t,e){return d.a.duration(t,e)}},computed:a()({},Object(c.mapGetters)(["isAuthenticated","user"])),watch:{$route:function(t,e){t!==e&&this.init()}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",{attrs:{type:"flex"}},[s("Col",{attrs:{span:24}},[s("Panel",{attrs:{id:"contest-card",shadow:""}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(""===t.query.rule_type?this.$i18n.t("m.All"):t.query.rule_type)+" "+t._s(t.$t("m.Contests")))]),t._v(" "),s("div",{attrs:{slot:"extra"},slot:"extra"},[s("ul",{staticClass:"filter"},[s("li",[s("Dropdown",{on:{"on-click":t.onRuleChange}},[s("span",[t._v(t._s(""===t.query.rule_type?this.$i18n.t("m.Rule"):this.$i18n.t("m."+t.query.rule_type))+"\n              "),s("Icon",{attrs:{type:"arrow-down-b"}})],1),t._v(" "),s("Dropdown-menu",{attrs:{slot:"list"},slot:"list"},[s("Dropdown-item",{attrs:{name:""}},[t._v(t._s(t.$t("m.All")))]),t._v(" "),s("Dropdown-item",{attrs:{name:"OI"}},[t._v(t._s(t.$t("m.OI")))]),t._v(" "),s("Dropdown-item",{attrs:{name:"ACM"}},[t._v(t._s(t.$t("m.ACM")))])],1)],1)],1),t._v(" "),s("li",[s("Dropdown",{on:{"on-click":t.onStatusChange}},[s("span",[t._v(t._s(""===t.query.status?this.$i18n.t("m.Status"):this.$i18n.t("m."+t.CONTEST_STATUS_REVERSE[t.query.status].name.replace(/ /g,"_")))+"\n              "),s("Icon",{attrs:{type:"arrow-down-b"}})],1),t._v(" "),s("Dropdown-menu",{attrs:{slot:"list"},slot:"list"},[s("Dropdown-item",{attrs:{name:""}},[t._v(t._s(t.$t("m.All")))]),t._v(" "),s("Dropdown-item",{attrs:{name:"0"}},[t._v(t._s(t.$t("m.Underway")))]),t._v(" "),s("Dropdown-item",{attrs:{name:"1"}},[t._v(t._s(t.$t("m.Not_Started")))]),t._v(" "),s("Dropdown-item",{attrs:{name:"-1"}},[t._v(t._s(t.$t("m.Ended")))])],1)],1)],1),t._v(" "),s("li",[s("Input",{attrs:{id:"keyword",icon:"ios-search-strong",placeholder:"Keyword"},on:{"on-enter":t.changeRoute,"on-click":t.changeRoute},model:{value:t.query.keyword,callback:function(e){t.$set(t.query,"keyword",e)},expression:"query.keyword"}})],1)])]),t._v(" "),0==t.contests.length?s("p",{attrs:{id:"no-contest"}},[t._v(t._s(t.$t("m.No_contest")))]):t._e(),t._v(" "),s("ol",{attrs:{id:"contest-list"}},t._l(t.contests,function(e){return s("li",{key:e.title},[s("Row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[s("img",{staticClass:"trophy",attrs:{src:n("uZQl")}}),t._v(" "),s("Col",{staticClass:"contest-main",attrs:{span:18}},[s("p",{staticClass:"title"},[s("a",{staticClass:"entry",on:{click:function(n){return n.stopPropagation(),t.goContest(e)}}},[t._v("\n              "+t._s(e.title)+"\n            ")]),t._v(" "),"Public"!=e.contest_type?[s("Icon",{attrs:{type:"ios-locked-outline",size:"20"}})]:t._e()],2),t._v(" "),s("ul",{staticClass:"detail"},[s("li",[s("Icon",{attrs:{type:"calendar",color:"#3091f2"}}),t._v("\n              "+t._s(t._f("localtime")(e.start_time,"YYYY-M-D HH:mm"))+"\n            ")],1),t._v(" "),s("li",[s("Icon",{attrs:{type:"android-time",color:"#3091f2"}}),t._v("\n              "+t._s(t.getDuration(e.start_time,e.end_time))+"\n            ")],1),t._v(" "),s("li",[s("Button",{attrs:{size:"small",shape:"circle"},on:{click:function(n){return t.onRuleChange(e.rule_type)}}},[t._v("\n                "+t._s(e.rule_type)+"\n              ")])],1)])]),t._v(" "),s("Col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[s("Tag",{attrs:{type:"dot",color:t.CONTEST_STATUS_REVERSE[e.status].color}},[t._v(t._s(t.$t("m."+t.CONTEST_STATUS_REVERSE[e.status].name.replace(/ /g,"_"))))])],1)],1)],1)}),0)]),t._v(" "),s("Pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.page,"show-sizer":!0},on:{"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"on-change":t.changeRoute,"update:current":function(e){t.page=e},"on-page-size-change":t.changeRoute}})],1)],1)},staticRenderFns:[]};var p=n("VU/8")(v,m,!1,function(t){n("zo/Y")},"data-v-b38bc02c",null);e.default=p.exports},"1H6C":function(t,e,n){var s=function(){return this}()||Function("return this")(),a=s.regeneratorRuntime&&Object.getOwnPropertyNames(s).indexOf("regeneratorRuntime")>=0,i=a&&s.regeneratorRuntime;if(s.regeneratorRuntime=void 0,t.exports=n("HhN8"),a)s.regeneratorRuntime=i;else try{delete s.regeneratorRuntime}catch(t){s.regeneratorRuntime=void 0}},"4dQa":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("Xxa5"),a=n.n(s),i=n("exGp"),r=n.n(i),o=n("Dd8w"),c=n.n(o),l=n("PJh5"),u=n.n(l),d=n("8Q2T"),h=n("NYxO"),v=n("IcnI"),m=n("FN8c"),p=n("2hfY"),f={name:"ContestDetail",components:{},data:function(){var t=this;return{CONTEST_STATUS:m.a,route_name:"",btnLoading:!1,contestID:"",contestPassword:"",reviewRequired:!0,reviewSubmitted:!1,pendingReviewsCount:0,columns:[{title:this.$i18n.t("m.StartAt"),render:function(t,e){return t("span",p.a.utcToLocal(e.row.start_time))}},{title:this.$i18n.t("m.EndAt"),render:function(t,e){return t("span",p.a.utcToLocal(e.row.end_time))}},{title:this.$i18n.t("m.ContestType"),render:function(e,n){return e("span",t.$i18n.t(n.row.contest_type.replace(" ","_")))}},{title:this.$i18n.t("m.Rule"),render:function(e,n){return e("span",t.$i18n.t("m."+n.row.rule_type))}},{title:this.$i18n.t("m.Creator"),render:function(t,e){return t("span",e.row.created_by.username)}}]}},mounted:function(){var t=this;this.contestID=this.$route.params.contestID,this.route_name=this.$route.name,this.loadPendingReviewsCount(),this.$store.dispatch("getContest").then(function(e){t.changeDomTitle({title:e.data.data.title});var n=e.data.data;u()(n.end_time).isAfter(u()(n.now))&&(t.timer=setInterval(function(){t.$store.commit(v.b.NOW_ADD_1S)},1e3))}),this.checkReviewStatus()},methods:c()({},Object(h.mapActions)(["changeDomTitle"]),{handleRoute:function(t){this.$router.push(t)},checkPassword:function(){var t=this;""!==this.contestPassword?(this.btnLoading=!0,d.a.checkContestPassword(this.contestID,this.contestPassword).then(function(e){t.$success("Succeeded"),t.$store.commit(v.b.CONTEST_ACCESS,{access:!0}),t.btnLoading=!1},function(e){t.btnLoading=!1})):this.$error("Password can't be empty")},loadPendingReviewsCount:function(){var t=this;return r()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isContestAdmin){e.next=11;break}return e.prev=1,e.next=4,d.a.getContestReviewStatsAdmin(t.contestID);case 4:n=e.sent,t.pendingReviewsCount=n.data.data.total_reviews||0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error loading review count:",e.t0);case 11:case"end":return e.stop()}},e,t,[[1,8]])}))()},loadReviews:function(){var t=this;return r()(a.a.mark(function e(){var n,s,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,n=(t.page-1)*t.limit,s={},t.ratingFilter&&(s.rating_filter=t.ratingFilter),t.technicalIssuesFilter&&(s.technical_issues=t.technicalIssuesFilter),console.log("Loading reviews for contest:",t.$route.params.contestID),console.log("Filters:",s),e.next=10,d.a.getContestReviewList(t.$route.params.contestID,n,t.limit,!0,s);case 10:i=e.sent,console.log("API Response:",i.data),i.data&&i.data.data&&(i.data.data.results?(t.reviews=i.data.data.results,t.total=i.data.data.total):Array.isArray(i.data.data)&&(t.reviews=i.data.data,t.total=i.data.data.length)),console.log("Loaded reviews:",t.reviews),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),t.$error("Failed to load reviews"),console.error("Failed to load reviews:",e.t0);case 20:return e.prev=20,t.loading=!1,e.finish(20);case 23:case"end":return e.stop()}},e,t,[[1,16,20,23]])}))()},checkReviewStatus:function(){var t=this;return r()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.reviewSubmitted=!1,t.contestStatus!==m.a.CONTEST_UNDERWAY&&t.contestStatus!==m.a.CONTEST_ENDED||(t.reviewRequired=!0)}catch(e){console.log("Error checking review status:",e),t.reviewRequired=!0,t.reviewSubmitted=!1}case 1:case"end":return e.stop()}},e,t)}))()}}),computed:c()({},Object(h.mapState)({showMenu:function(t){return t.contest.itemVisible.menu},contest:function(t){return t.contest.contest},contest_table:function(t){return[t.contest.contest]},now:function(t){return t.contest.now}}),Object(h.mapGetters)(["contestMenuDisabled","contestRuleType","contestStatus","countdown","isContestAdmin","OIContestRealTimePermission","passwordFormVisible","antiCheatActive"]),{countdownColor:function(){if(this.contestStatus)return m.b[this.contestStatus].color},showAdminHelper:function(){return this.isContestAdmin&&"ACM"===this.contestRuleType}}),watch:{$route:function(t){this.route_name=t.name,this.contestID=t.params.contestID,this.changeDomTitle({title:this.contest.title}),this.checkReviewStatus()}},beforeDestroy:function(){clearInterval(this.timer),this.$store.commit(v.b.CLEAR_CONTEST)}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-container",class:{"anti-cheat-active":t.antiCheatActive}},[n("div",{attrs:{id:"contest-main"}},[n("transition",{attrs:{name:"fadeInUp"}},[n("router-view")],1),t._v(" "),"contest-details"===t.route_name?n("div",{staticClass:"flex-container"},[[n("div",{attrs:{id:"contest-desc"}},[n("Panel",{attrs:{padding:20,shadow:""}},[n("div",{attrs:{slot:"title"},slot:"title"},[t._v("\n              "+t._s(t.contest.title)+"\n            ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.antiCheatActive,expression:"!antiCheatActive"}],attrs:{slot:"extra"},slot:"extra"},[n("Tag",{attrs:{type:"dot",color:t.countdownColor}},[n("span",{attrs:{id:"countdown"}},[t._v(t._s(t.countdown))])])],1),t._v(" "),n("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.contest.description)}}),t._v(" "),t.passwordFormVisible?n("div",{staticClass:"contest-password"},[n("Input",{staticClass:"contest-password-input",attrs:{type:"password",placeholder:"contest password"},on:{"on-enter":t.checkPassword},model:{value:t.contestPassword,callback:function(e){t.contestPassword=e},expression:"contestPassword"}}),t._v(" "),n("Button",{attrs:{type:"info"},on:{click:t.checkPassword}},[t._v("Enter")])],1):t._e()]),t._v(" "),n("Table",{directives:[{name:"show",rawName:"v-show",value:!t.antiCheatActive,expression:"!antiCheatActive"}],staticStyle:{"margin-bottom":"40px"},attrs:{columns:t.columns,data:t.contest_table,"disabled-hover":""}})],1)]],2):t._e()],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showMenu&&!t.antiCheatActive,expression:"showMenu && !antiCheatActive"}],attrs:{id:"contest-menu"}},[n("VerticalMenu",{on:{"on-click":t.handleRoute}},[n("VerticalMenu-item",{attrs:{route:{name:"contest-details",params:{contestID:t.contestID}}}},[n("Icon",{attrs:{type:"home"}}),t._v("\n        "+t._s(t.$t("m.Overview"))+"\n      ")],1),t._v(" "),n("VerticalMenu-item",{attrs:{disabled:t.contestMenuDisabled,route:{name:"contest-announcement-list",params:{contestID:t.contestID}}}},[n("Icon",{attrs:{type:"chatbubble-working"}}),t._v("\n        "+t._s(t.$t("m.Announcements"))+"\n      ")],1),t._v(" "),n("VerticalMenu-item",{attrs:{disabled:t.contestMenuDisabled,route:{name:"contest-problem-list",params:{contestID:t.contestID}}}},[n("Icon",{attrs:{type:"ios-photos"}}),t._v("\n        "+t._s(t.$t("m.Problems"))+"\n      ")],1),t._v(" "),t.OIContestRealTimePermission?n("VerticalMenu-item",{attrs:{disabled:t.contestMenuDisabled,route:{name:"contest-submission-list"}}},[n("Icon",{attrs:{type:"navicon-round"}}),t._v("\n        "+t._s(t.$t("m.Submissions"))+"\n      ")],1):t._e(),t._v(" "),t.OIContestRealTimePermission?n("VerticalMenu-item",{attrs:{disabled:t.contestMenuDisabled,route:{name:"contest-rank",params:{contestID:t.contestID}}}},[n("Icon",{attrs:{type:"stats-bars"}}),t._v("\n        "+t._s(t.$t("m.Rankings"))+"\n      ")],1):t._e(),t._v(" "),n("VerticalMenu-item",{attrs:{disabled:t.contestMenuDisabled,route:{name:t.isContestAdmin?"contest-review-admin":"contest-review",params:{contestID:t.contestID}}}},[n("Icon",{attrs:{type:"ios-star"}}),t._v("\n        "+t._s(t.isContestAdmin?"Review Management":t.$t("m.Website_Review")||"Website Review")+"\n        "),t.isContestAdmin||!t.reviewRequired||t.reviewSubmitted?t._e():n("Badge",{attrs:{status:"warning"}}),t._v(" "),t.isContestAdmin&&t.pendingReviewsCount>0?n("Badge",{attrs:{count:t.pendingReviewsCount}}):t._e()],1),t._v(" "),t.showAdminHelper?n("VerticalMenu-item",{attrs:{route:{name:"acm-helper",params:{contestID:t.contestID}}}},[n("Icon",{attrs:{type:"ios-paw"}}),t._v("\n        "+t._s(t.$t("m.Admin_Helper"))+"\n      ")],1):t._e()],1)],1)])},staticRenderFns:[]};var _=n("VU/8")(f,g,!1,function(t){n("hiTU")},"data-v-8ff08d22",null);e.default=_.exports},"5PlU":function(t,e,n){var s=n("RY/4"),a=n("dSzd")("iterator"),i=n("/bQp");t.exports=n("FeBl").isIterable=function(t){var e=Object(t);return void 0!==e[a]||"@@iterator"in e||i.hasOwnProperty(s(e))}},"6kga":function(t,e){},"95TO":function(t,e,n){"use strict";var s=n("I95x"),a=n.n(s),i={name:"hamburger",props:{width:{type:Number,default:22},height:{type:Number,default:22},color:{type:String,default:"#5A5E66"}},data:function(){return{isFullscreen:!1}},methods:{click:function(){if(!a.a.enabled)return this.$warning("Your browser doesn't support fullscreen"),!1;a.a.toggle()}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"icon screenfull",attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",t:"1497503607356",viewBox:"0 0 1024 1024",version:"1.1","p-id":"4109",fill:this.color,width:this.width,height:this.height},on:{click:this.click}},[e("path",{attrs:{d:"M604.157933 512l204.484208 204.484208 82.942037-82.942037c10.364045-10.952446 26.498514-13.83817 40.309054-8.067746 13.249769 5.742794 22.465664 18.99154 22.465664 33.977859l0 258.042008c0 20.168342-16.695241 36.863582-36.863582 36.863582L659.452283 954.357873c-14.986319 0-28.236088-9.215896-33.977859-23.025413-5.770424-13.249769-2.885723-29.384237 8.067746-39.748283l82.942037-82.942037L512 604.157933 307.515792 808.642141l82.942037 82.942037c10.952446 10.364045 13.83817 26.498514 8.067746 39.748283-5.742794 13.809517-18.99154 23.025413-33.977859 23.025413L106.504686 954.357873c-20.168342 0-36.863582-16.695241-36.863582-36.863582L69.641103 659.452283c0-14.986319 9.215896-28.236088 23.025413-33.977859 13.249769-5.770424 29.384237-2.8847 39.748283 8.067746l82.942037 82.942037 204.484208-204.484208L215.357859 307.515792l-82.942037 82.942037c-6.890944 6.918573-16.10684 10.952446-25.911136 10.952446-4.593622 0-9.804297-1.14815-13.83817-2.8847-13.809517-5.742794-23.025413-18.99154-23.025413-33.977859L69.641103 106.504686c0-20.168342 16.695241-36.863582 36.863582-36.863582L364.546693 69.641103c14.986319 0 28.236088 9.215896 33.977859 23.025413 5.770424 13.249769 2.8847 29.384237-8.067746 39.748283l-82.942037 82.942037 204.484208 204.484208L716.484208 215.357859l-82.942037-82.942037c-10.952446-10.364045-13.83817-26.498514-8.067746-39.748283 5.742794-13.809517 18.99154-23.025413 33.977859-23.025413l258.042008 0c20.168342 0 36.863582 16.695241 36.863582 36.863582l0 258.042008c0 14.986319-9.215896 28.236088-22.465664 33.977859-4.593622 1.736551-9.804297 2.8847-14.397918 2.8847-9.804297 0-19.020192-4.033873-25.911136-10.952446l-82.942037-82.942037L604.157933 512z","p-id":"4110"}})])},staticRenderFns:[]};var o=n("VU/8")(i,r,!1,function(t){n("Qvfe")},"data-v-903135cc",null);e.a=o.exports},BoGV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("Dd8w"),a=n.n(s),i=n("NYxO"),r={name:"ContestProblemList",mixins:[n("y2MC").b],data:function(){var t=this;return{ACMTableColumns:[{title:"#",key:"_id",sortType:"asc",width:150},{title:this.$i18n.t("m.Title"),key:"title"},{title:this.$i18n.t("m.Total"),key:"submission_number"},{title:this.$i18n.t("m.AC_Rate"),render:function(e,n){return e("span",t.getACRate(n.row.accepted_number,n.row.submission_number))}}],OITableColumns:[{title:"#",key:"_id",width:150},{title:this.$i18n.t("m.Title"),key:"title"}]}},mounted:function(){this.getContestProblems()},methods:{getContestProblems:function(){var t=this;this.$store.dispatch("getContestProblems").then(function(e){t.isAuthenticated&&("ACM"===t.contestRuleType?t.addStatusColumn(t.ACMTableColumns,e.data.data):t.OIContestRealTimePermission&&t.addStatusColumn(t.ACMTableColumns,e.data.data))})},goContestProblem:function(t){this.$router.push({name:"contest-problem-details",params:{contestID:this.$route.params.contestID,problemID:t._id}})}},computed:a()({},Object(i.mapState)({problems:function(t){return t.contest.contestProblems}}),Object(i.mapGetters)(["isAuthenticated","contestRuleType","OIContestRealTimePermission"]))},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Panel",[n("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("m.Problems_List")))]),t._v(" "),"ACM"==t.contestRuleType||t.OIContestRealTimePermission?n("Table",{attrs:{columns:t.ACMTableColumns,data:t.problems,"no-data-text":t.$t("m.No_Problems")},on:{"on-row-click":t.goContestProblem}}):n("Table",{attrs:{data:t.problems,columns:t.OITableColumns,"no-data-text":"$t('m.No_Problems')"},on:{"on-row-click":t.goContestProblem}})],1)],1)},staticRenderFns:[]};var c=n("VU/8")(r,o,!1,function(t){n("C0yJ")},"data-v-400472a2",null);e.default=c.exports},C0yJ:function(t,e){},HhN8:function(t,e){!function(e){"use strict";var n,s=Object.prototype,a=s.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",l="object"==typeof t,u=e.regeneratorRuntime;if(u)l&&(t.exports=u);else{(u=e.regeneratorRuntime=l?t.exports:{}).wrap=y;var d="suspendedStart",h="suspendedYield",v="executing",m="completed",p={},f={};f[r]=function(){return this};var g=Object.getPrototypeOf,_=g&&g(g(E([])));_&&_!==s&&a.call(_,r)&&(f=_);var w=x.prototype=C.prototype=Object.create(f);R.prototype=w.constructor=x,x.constructor=R,x[c]=R.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===R||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},u.awrap=function(t){return{__await:t}},k(A.prototype),A.prototype[o]=function(){return this},u.AsyncIterator=A,u.async=function(t,e,n,s){var a=new A(y(t,e,n,s));return u.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(w),w[c]="Generator",w[r]=function(){return this},w.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var s=e.pop();if(s in t)return n.value=s,n.done=!1,n}return n.done=!0,n}},u.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function s(s,a){return o.type="throw",o.arg=t,e.next=s,a&&(e.method="next",e.arg=n),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return s("end");if(r.tryLoc<=this.prev){var c=a.call(r,"catchLoc"),l=a.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return s(r.catchLoc,!0);if(this.prev<r.finallyLoc)return s(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return s(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return s(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&a.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=t,r.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var s=n.completion;if("throw"===s.type){var a=s.arg;D(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,s){return this.delegate={iterator:E(t),resultName:e,nextLoc:s},"next"===this.method&&(this.arg=n),p}}}function y(t,e,n,s){var a=e&&e.prototype instanceof C?e:C,i=Object.create(a.prototype),r=new S(s||[]);return i._invoke=function(t,e,n){var s=d;return function(a,i){if(s===v)throw new Error("Generator is already running");if(s===m){if("throw"===a)throw i;return $()}for(n.method=a,n.arg=i;;){var r=n.delegate;if(r){var o=I(r,n);if(o){if(o===p)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(s===d)throw s=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);s=v;var c=b(t,e,n);if("normal"===c.type){if(s=n.done?m:h,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(s=m,n.method="throw",n.arg=c.arg)}}}(t,n,r),i}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function C(){}function R(){}function x(){}function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(t){var e;this._invoke=function(n,s){function i(){return new Promise(function(e,i){!function e(n,s,i,r){var o=b(t[n],t,s);if("throw"!==o.type){var c=o.arg,l=c.value;return l&&"object"==typeof l&&a.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,i,r)},function(t){e("throw",t,i,r)}):Promise.resolve(l).then(function(t){c.value=t,i(c)},r)}r(o.arg)}(n,s,e,i)})}return e=e?e.then(i,i):i()}}function I(t,e){var s=t.iterator[e.method];if(s===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,I(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=b(s,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,p;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function E(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,i=function e(){for(;++s<t.length;)if(a.call(t,s))return e.value=t[s],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:$}}function $(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},I95x:function(t,e){
/*!
* screenfull
* v3.3.3 - 2018-09-04
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=void 0!==t&&t.exports,s="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,a=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=0,a=n.length,i={};s<a;s++)if((t=n[s])&&t[1]in e){for(s=0;s<t.length;s++)i[n[0][s]]=t[s];return i}return!1}(),i={change:a.fullscreenchange,error:a.fullscreenerror},r={request:function(t){var n=a.requestFullscreen;t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[n]():t[n](s?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){e[a.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var s=i[t];s&&e.addEventListener(s,n,!1)},off:function(t,n){var s=i[t];s&&e.removeEventListener(s,n,!1)},raw:a};a?(Object.defineProperties(r,{isFullscreen:{get:function(){return Boolean(e[a.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[a.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[a.fullscreenEnabled])}}}),n?t.exports=r:window.screenfull=r):n?t.exports=!1:window.screenfull=!1}()},Mpez:function(t,e){},"N/8R":function(t,e){},Qvfe:function(t,e){},W3Iv:function(t,e,n){t.exports={default:n("wEtr"),__esModule:!0}},Xd32:function(t,e,n){n("+tPU"),n("zQR9"),t.exports=n("5PlU")},Xxa5:function(t,e,n){t.exports=n("1H6C")},a4cL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("Dd8w"),a=n.n(s),i=n("Xxa5"),r=n.n(i),o=n("exGp"),c=n.n(o),l=n("PJh5"),u=n.n(l),d=n("8Q2T"),h={name:"ContestReview",data:function(){return{currentRating:0,hoverRating:0,reviewText:"",categoryRatings:{},hadTechnicalIssues:!1,technicalIssuesDetail:"",submitting:!1,reviewSubmitted:!1,editMode:!1,submittedReview:null,showSuccessMessage:!1,showPenaltyWarning:!0,categories:[{key:"user_interface",name:this.$t("m.User_Interface")},{key:"performance",name:this.$t("m.Performance")},{key:"problem_quality",name:this.$t("m.Problem_Quality")},{key:"judging_accuracy",name:this.$t("m.Judging_Accuracy")}]}},computed:{contestID:function(){return this.$route.params.contestID},canSubmit:function(){return this.currentRating>0&&this.reviewText.trim().length>=10}},mounted:function(){this.loadExistingReview()},methods:{setRating:function(t){this.currentRating=t},setCategoryRating:function(t,e){this.$set(this.categoryRatings,t,e)},getCategoryName:function(t){var e=this.categories.find(function(e){return e.key===t});return e?e.name:t},loadExistingReview:function(){var t=this;return c()(r.a.mark(function e(){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.getContestReview(t.contestID);case 3:(n=e.sent).data.data&&(t.submittedReview=n.data.data,t.reviewSubmitted=!0,t.populateFormWithExistingReview(),t.showPenaltyWarning=!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("No existing review found or error loading review:",e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},populateFormWithExistingReview:function(){this.submittedReview&&(this.currentRating=this.submittedReview.rating,this.reviewText=this.submittedReview.review_text,this.categoryRatings=a()({},this.submittedReview.category_ratings),this.hadTechnicalIssues=this.submittedReview.had_technical_issues,this.technicalIssuesDetail=this.submittedReview.technical_issues_detail||"")},submitReview:function(){var t=this;return c()(r.a.mark(function e(){var n,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canSubmit){e.next=3;break}return t.$error(t.$t("m.Please_Complete_Required_Fields")),e.abrupt("return");case 3:return t.submitting=!0,e.prev=4,n={contest_id:t.contestID,rating:t.currentRating,review_text:t.reviewText.trim(),category_ratings:t.categoryRatings,had_technical_issues:t.hadTechnicalIssues,technical_issues_detail:t.technicalIssuesDetail.trim()},e.next=8,d.a.submitContestReview(n);case 8:null===(s=e.sent).data.error?(t.submittedReview=s.data.data.review,t.reviewSubmitted=!0,t.editMode=!1,t.showSuccessMessage=!0,t.showPenaltyWarning=!1,t.$success(s.data.data.message)):t.$error(s.data.data||"Error submitting review"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error submitting review:",e.t0),t.$error(e.t0.response&&e.t0.response.data&&e.t0.response.data.data||t.$t("m.Review_Submit_Error"));case 16:return e.prev=16,t.submitting=!1,e.finish(16);case 19:case"end":return e.stop()}},e,t,[[4,12,16,19]])}))()},enableEditMode:function(){this.editMode=!0,this.populateFormWithExistingReview()},cancelEdit:function(){this.editMode=!1,this.populateFormWithExistingReview()},formatTime:function(t){return u()(t).format("MMM DD, YYYY HH:mm")}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contest-review-container"},[n("Panel",{attrs:{padding:20,shadow:""}},[n("div",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"ios-star"}}),t._v("\n      "+t._s(t.$t("m.Website_Review"))+"\n    ")],1),t._v(" "),n("div",{attrs:{slot:"extra"},slot:"extra"},[t.reviewSubmitted?n("Tag",{attrs:{type:"dot",color:"success"}},[t._v("\n        "+t._s(t.$t("m.Review_Submitted"))+"\n      ")]):n("Tag",{attrs:{type:"dot",color:"warning"}},[t._v("\n        "+t._s(t.$t("m.Review_Required"))+"\n      ")])],1),t._v(" "),!t.reviewSubmitted||t.editMode?n("div",{staticClass:"review-form"},[n("div",{staticClass:"review-section"},[n("h3",[t._v(t._s(t.$t("m.Rate_Website")))]),t._v(" "),n("p",{staticClass:"review-description"},[t._v("\n          "+t._s(t.$t("m.Review_Description"))+"\n        ")]),t._v(" "),n("div",{staticClass:"rating-section"},[n("label",{staticClass:"rating-label"},[t._v("\n            "+t._s(t.$t("m.Overall_Rating"))+"\n            "),n("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),n("div",{staticClass:"star-rating"},[t._l(10,function(e){return n("Icon",{key:e,class:["star",{active:e<=t.currentRating,hover:e<=t.hoverRating}],attrs:{type:e<=t.currentRating?"ios-star":"ios-star-outline"},on:{click:function(n){return t.setRating(e)},mouseenter:function(n){t.hoverRating=e},mouseleave:function(e){t.hoverRating=0}}})}),t._v(" "),n("span",{staticClass:"rating-text"},[t._v(t._s(t.currentRating)+"/10")])],2)]),t._v(" "),n("div",{staticClass:"category-ratings"},[n("h4",[t._v(t._s(t.$t("m.Category_Ratings")))]),t._v(" "),t._l(t.categories,function(e){return n("div",{key:e.key,staticClass:"category-item"},[n("label",{staticClass:"category-label"},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"mini-star-rating"},[t._l(5,function(s){return n("Icon",{key:s,class:["mini-star",{active:s<=(t.categoryRatings[e.key]||0)}],attrs:{type:s<=(t.categoryRatings[e.key]||0)?"ios-star":"ios-star-outline"},on:{click:function(n){return t.setCategoryRating(e.key,s)}}})}),t._v(" "),n("span",{staticClass:"mini-rating-text"},[t._v(t._s(t.categoryRatings[e.key]||0)+"/5")])],2)])})],2),t._v(" "),n("div",{staticClass:"text-review-section"},[n("label",{staticClass:"review-label"},[t._v("\n            "+t._s(t.$t("m.Written_Review"))+"\n            "),n("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),n("Input",{staticClass:"review-textarea",attrs:{type:"textarea",rows:6,placeholder:t.$t("m.Review_Placeholder"),maxlength:1e3,"show-word-limit":""},model:{value:t.reviewText,callback:function(e){t.reviewText=e},expression:"reviewText"}})],1),t._v(" "),n("div",{staticClass:"additional-questions"},[n("h4",[t._v(t._s(t.$t("m.Additional_Questions")))]),t._v(" "),n("div",{staticClass:"question-item"},[n("label",[t._v(t._s(t.$t("m.Technical_Issues")))]),t._v(" "),n("RadioGroup",{staticClass:"issues-radio",model:{value:t.hadTechnicalIssues,callback:function(e){t.hadTechnicalIssues=e},expression:"hadTechnicalIssues"}},[n("Radio",{attrs:{label:!1}},[t._v(t._s(t.$t("m.No_Issues")))]),t._v(" "),n("Radio",{attrs:{label:!0}},[t._v(t._s(t.$t("m.Some_Issues")))])],1)],1),t._v(" "),t.hadTechnicalIssues?n("div",{staticClass:"technical-issues-detail"},[n("Input",{attrs:{type:"textarea",rows:3,placeholder:t.$t("m.Describe_Issues"),maxlength:500,"show-word-limit":""},model:{value:t.technicalIssuesDetail,callback:function(e){t.technicalIssuesDetail=e},expression:"technicalIssuesDetail"}})],1):t._e()]),t._v(" "),n("div",{staticClass:"submit-section"},[n("Button",{staticClass:"submit-button",attrs:{type:"primary",size:"large",loading:t.submitting,disabled:!t.canSubmit},on:{click:t.submitReview}},[n("Icon",{attrs:{type:"ios-checkmark-circle"}}),t._v("\n            "+t._s(t.reviewSubmitted?t.$t("m.Update_Review"):t.$t("m.Submit_Review"))+"\n          ")],1),t._v(" "),t.reviewSubmitted&&t.editMode?n("Button",{staticClass:"cancel-button",on:{click:t.cancelEdit}},[t._v("\n            "+t._s(t.$t("m.Cancel"))+"\n          ")]):t._e()],1)])]):t.reviewSubmitted&&!t.editMode?n("div",{staticClass:"review-display"},[n("div",{staticClass:"submitted-review"},[n("div",{staticClass:"review-header"},[n("div",{staticClass:"overall-rating"},[n("span",{staticClass:"rating-number"},[t._v(t._s(t.submittedReview.rating))]),t._v(" "),n("div",{staticClass:"stars-display"},t._l(10,function(e){return n("Icon",{key:e,staticClass:"display-star",attrs:{type:e<=t.submittedReview.rating?"ios-star":"ios-star-outline"}})}),1),t._v(" "),n("span",{staticClass:"rating-label"},[t._v("out of 10")])]),t._v(" "),n("div",{staticClass:"review-actions"},[n("Button",{attrs:{type:"text",size:"small"},on:{click:t.enableEditMode}},[n("Icon",{attrs:{type:"ios-create"}}),t._v("\n              "+t._s(t.$t("m.Edit_Review"))+"\n            ")],1)],1)]),t._v(" "),t.submittedReview.category_ratings?n("div",{staticClass:"category-display"},[n("h4",[t._v(t._s(t.$t("m.Category_Ratings")))]),t._v(" "),n("div",{staticClass:"category-grid"},t._l(t.submittedReview.category_ratings,function(e,s){return n("div",{key:s,staticClass:"category-display-item"},[n("span",{staticClass:"category-name"},[t._v(t._s(t.getCategoryName(s)))]),t._v(" "),n("div",{staticClass:"category-stars"},[t._l(5,function(t){return n("Icon",{key:t,staticClass:"category-display-star",attrs:{type:t<=e?"ios-star":"ios-star-outline"}})}),t._v(" "),n("span",{staticClass:"category-rating"},[t._v(t._s(e)+"/5")])],2)])}),0)]):t._e(),t._v(" "),n("div",{staticClass:"review-text-display"},[n("h4",[t._v(t._s(t.$t("m.Your_Review")))]),t._v(" "),n("div",{staticClass:"review-content"},[t._v(t._s(t.submittedReview.review_text))])]),t._v(" "),n("div",{staticClass:"review-metadata"},[n("div",{staticClass:"review-info"},[n("Icon",{attrs:{type:"ios-time"}}),t._v("\n            "+t._s(t.$t("m.Submitted_At"))+":\n            "+t._s(t.formatTime(t.submittedReview.submitted_at))+"\n          ")],1)])])]):t._e(),t._v(" "),!t.reviewSubmitted&&t.showPenaltyWarning?n("div",{staticClass:"penalty-warning"},[n("Alert",{attrs:{type:"warning","show-icon":""}},[n("Icon",{attrs:{slot:"icon",type:"ios-warning"},slot:"icon"}),t._v(" "),n("strong",[t._v(t._s(t.$t("m.Review_Required_Warning")))]),t._v(" "),n("div",{attrs:{slot:"desc"},slot:"desc"},[t._v("\n          "+t._s(t.$t("m.Penalty_Warning"))+"\n        ")])],1)],1):t._e(),t._v(" "),t.showSuccessMessage?n("div",{staticClass:"success-message"},[n("Alert",{attrs:{type:"success","show-icon":"",closable:""},on:{"on-close":function(e){t.showSuccessMessage=!1}}},[n("Icon",{attrs:{slot:"icon",type:"ios-checkmark-circle"},slot:"icon"}),t._v("\n        "+t._s(t.$t("m.Review_Submitted_Success"))+"\n      ")],1)],1):t._e()])],1)},staticRenderFns:[]};var m={name:"ContestReviewPage",components:{ContestReview:n("VU/8")(h,v,!1,function(t){n("bhLS")},"data-v-a8ec96b8",null).exports},data:function(){return{}},mounted:function(){console.log("Contest Review Page mounted for contest:",this.$route.params.contestID)}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"contest-review-page"},[e("ContestReview")],1)},staticRenderFns:[]};var f=n("VU/8")(m,p,!1,function(t){n("6kga")},"data-v-ac335dd8",null);e.default=f.exports},a9Jm:function(t,e){},bhLS:function(t,e){},d7EF:function(t,e,n){"use strict";e.__esModule=!0;var s=i(n("us/S")),a=i(n("BO1k"));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,s.default)(Object(t)))return function(t,e){var n=[],s=!0,i=!1,r=void 0;try{for(var o,c=(0,a.default)(t);!(s=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);s=!0);}catch(t){i=!0,r=t}finally{try{!s&&c.return&&c.return()}finally{if(i)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},eZnA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("Dd8w"),a=n.n(s),i=n("Xxa5"),r=n.n(i),o=n("exGp"),c=n.n(o),l=n("d7EF"),u=n.n(l),d=n("W3Iv"),h=n.n(d),v=n("8Q2T"),m=n("2hfY"),p={name:"ContestReviewAdmin",data:function(){var t=this;return{loading:!1,reviews:[],reviewStats:{total_reviews:0,average_rating:0},columns:[{title:"User",key:"username",width:120},{title:"Overall Rating",key:"rating",width:200,render:function(t,e){return t("div",{class:"rating-cell"},[t("Rate",{props:{value:e.row.rating,disabled:!0,"show-text":!0}}),t("span",{class:"rating-number",style:{marginLeft:"8px"}},e.row.rating+"/10")])}},{title:"Category Ratings",key:"category_ratings",width:300,render:function(e,n){var s=h()(n.row.category_ratings).map(function(n){var s=u()(n,2),a=s[0],i=s[1];return e("Tag",{props:{color:t.getCategoryColor(i),size:"small"},style:{margin:"2px"}},t.formatCategoryName(a)+": "+i)});return e("div",{class:"category-ratings"},s)}},{title:"Technical Issues",key:"had_technical_issues",width:130,align:"center",render:function(t,e){var n=e.row.had_technical_issues;return t("Tag",{props:{color:n?"red":"green"}},n?"Yes":"No")}},{title:"Submitted",key:"submitted_at",width:160,render:function(t,e){return t("span",m.a.utcToLocal(e.row.submitted_at,"YYYY-MM-DD HH:mm"))}},{title:"Actions",key:"actions",width:120,align:"center",render:function(e,n){return e("Button",{props:{type:"primary",size:"small",icon:"ios-eye"},on:{click:function(e){e.stopPropagation(),t.showReviewDetail(n.row)}}},"View Detail")}}],page:1,limit:20,total:0,ratingFilter:"",technicalIssuesFilter:"",showDetailModal:!1,selectedReview:{}}},mounted:function(){this.loadReviews(),this.loadReviewStats()},methods:{loadReviews:function(){var t=this;return c()(r.a.mark(function e(){var n,s,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,n=(t.page-1)*t.limit,s={},t.ratingFilter&&(s.rating_filter=t.ratingFilter),t.technicalIssuesFilter&&(s.technical_issues=t.technicalIssuesFilter),console.log("Loading reviews for contest:",t.$route.params.contestID),console.log("Calling admin API with filters:",s),e.next=10,v.a.getContestReviewListAdmin(t.$route.params.contestID,n,t.limit,s);case 10:a=e.sent,console.log("API Response:",a.data),a.data&&a.data.data&&(a.data.data.results?(t.reviews=a.data.data.results,t.total=a.data.data.total):Array.isArray(a.data.data)&&(t.reviews=a.data.data,t.total=a.data.data.length)),console.log("Loaded reviews:",t.reviews),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),t.$error("Failed to load reviews"),console.error("Failed to load reviews:",e.t0);case 20:return e.prev=20,t.loading=!1,e.finish(20);case 23:case"end":return e.stop()}},e,t,[[1,16,20,23]])}))()},loadReviewStats:function(){var t=this;return c()(r.a.mark(function e(){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Loading review stats for contest:",t.$route.params.contestID),e.next=4,v.a.getContestReviewStatsAdmin(t.$route.params.contestID);case 4:n=e.sent,console.log("Stats API Response:",n.data),t.reviewStats=n.data.data,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t.$error("Failed to load review stats"),console.error("Failed to load review stats:",e.t0);case 13:case"end":return e.stop()}},e,t,[[0,9]])}))()},showReviewDetail:function(t){this.selectedReview=a()({},t),this.showDetailModal=!0},changePage:function(t){this.page=t,this.loadReviews()},changeLimit:function(t){this.limit=t,this.page=1,this.loadReviews()},formatDate:function(t){return m.a.utcToLocal(t,"YYYY-MM-DD HH:mm:ss")},formatCategoryName:function(t){return t.replace(/_/g," ").replace(/\b\w/g,function(t){return t.toUpperCase()})},getCategoryColor:function(t){return t>=4?"green":t>=3?"orange":"red"}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Panel",{attrs:{shadow:""}},[n("div",{attrs:{slot:"title"},slot:"title"},[t._v("Contest Reviews Management")]),t._v(" "),n("div",{attrs:{slot:"extra"},slot:"extra"},[n("Tag",{attrs:{color:t.reviewStats.average_rating>=7?"green":t.reviewStats.average_rating>=5?"orange":"red"}},[t._v("\n        Average Rating: "+t._s(t.reviewStats.average_rating)+"/10\n      ")]),t._v(" "),n("Tag",{staticStyle:{"margin-left":"8px"},attrs:{type:"border"}},[t._v("\n        Total Reviews: "+t._s(t.reviewStats.total_reviews)+"\n      ")])],1),t._v(" "),n("div",{staticClass:"filter-row"},[n("div",{staticClass:"filter-item"},[n("span",[t._v("Rating Filter:")]),t._v(" "),n("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"All Ratings"},model:{value:t.ratingFilter,callback:function(e){t.ratingFilter=e},expression:"ratingFilter"}},[n("Option",{attrs:{value:""}},[t._v("All Ratings")]),t._v(" "),n("Option",{attrs:{value:"high"}},[t._v("8-10 (High)")]),t._v(" "),n("Option",{attrs:{value:"medium"}},[t._v("5-7 (Medium)")]),t._v(" "),n("Option",{attrs:{value:"low"}},[t._v("1-4 (Low)")])],1)],1),t._v(" "),n("div",{staticClass:"filter-item"},[n("span",[t._v("Technical Issues:")]),t._v(" "),n("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"All"},model:{value:t.technicalIssuesFilter,callback:function(e){t.technicalIssuesFilter=e},expression:"technicalIssuesFilter"}},[n("Option",{attrs:{value:""}},[t._v("All")]),t._v(" "),n("Option",{attrs:{value:"true"}},[t._v("Yes")]),t._v(" "),n("Option",{attrs:{value:"false"}},[t._v("No")])],1)],1),t._v(" "),n("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.loadReviews}},[t._v("Apply Filters")])],1),t._v(" "),n("Table",{staticClass:"review-table",attrs:{columns:t.columns,data:t.reviews,loading:t.loading},on:{"on-row-click":t.showReviewDetail},scopedSlots:t._u([{key:"rating",fn:function(e){var s=e.row;return[n("div",{staticClass:"rating-cell"},[n("Rate",{attrs:{disabled:"","show-text":""},model:{value:s.rating,callback:function(e){t.$set(s,"rating",e)},expression:"row.rating"}}),t._v(" "),n("span",{staticClass:"rating-number"},[t._v(t._s(s.rating)+"/10")])],1)]}},{key:"category_ratings",fn:function(e){var s=e.row;return[n("div",{staticClass:"category-ratings"},t._l(s.category_ratings,function(e,s){return n("Tag",{key:s,attrs:{color:t.getCategoryColor(e),size:"small"}},[t._v("\n            "+t._s(t.formatCategoryName(s))+": "+t._s(e)+"\n          ")])}),1)]}},{key:"technical_issues",fn:function(e){var s=e.row;return[n("Tag",{attrs:{color:s.had_technical_issues?"red":"green"}},[t._v("\n          "+t._s(s.had_technical_issues?"Yes":"No")+"\n        ")])]}},{key:"actions",fn:function(e){var s=e.row;return[n("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return e.stopPropagation(),t.showReviewDetail(s)}}},[n("Icon",{attrs:{type:"ios-eye"}}),t._v(" View Detail\n        ")],1)]}}])}),t._v(" "),t.total>t.limit?n("div",{staticStyle:{"margin-top":"20px","text-align":"right"}},[n("Page",{attrs:{total:t.total,"page-size":t.limit,current:t.page,"show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changeLimit}})],1):t._e()],1),t._v(" "),n("Modal",{attrs:{title:"Review by "+t.selectedReview.username,width:"800","mask-closable":!1},model:{value:t.showDetailModal,callback:function(e){t.showDetailModal=e},expression:"showDetailModal"}},[t.selectedReview.id?n("div",{staticClass:"review-detail"},[n("div",{staticClass:"review-header"},[n("div",{staticClass:"review-meta"},[n("p",[n("strong",[t._v("User:")]),t._v(" "+t._s(t.selectedReview.username)+" (ID:\n            "+t._s(t.selectedReview.user_id)+")\n          ")]),t._v(" "),n("p",[n("strong",[t._v("Submitted:")]),t._v("\n            "+t._s(t.formatDate(t.selectedReview.submitted_at))+"\n          ")]),t._v(" "),n("p",[n("strong",[t._v("Last Updated:")]),t._v("\n            "+t._s(t.formatDate(t.selectedReview.updated_at))+"\n          ")]),t._v(" "),n("p",[n("strong",[t._v("IP Address:")]),t._v("\n            "+t._s(t.selectedReview.ip_address||"N/A")+"\n          ")])]),t._v(" "),n("div",{staticClass:"overall-rating"},[n("h3",[t._v("Overall Rating")]),t._v(" "),n("Rate",{attrs:{disabled:"","show-text":""},model:{value:t.selectedReview.rating,callback:function(e){t.$set(t.selectedReview,"rating",e)},expression:"selectedReview.rating"}}),t._v(" "),n("span",{staticClass:"rating-text"},[t._v(t._s(t.selectedReview.rating)+"/10")])],1)]),t._v(" "),n("div",{staticClass:"category-section"},[n("h3",[t._v("Category Ratings")]),t._v(" "),n("div",{staticClass:"category-grid"},[n("div",{staticClass:"category-section"},[n("h3",[t._v("Category Ratings")]),t._v(" "),n("div",{staticClass:"category-grid"},t._l(t.selectedReview.category_ratings,function(e,s){return n("div",{key:s,staticClass:"category-item"},[n("div",{staticClass:"category-name"},[t._v("\n                  "+t._s(t.formatCategoryName(s))+"\n                ")]),t._v(" "),n("div",{staticClass:"category-rating"},[n("Rate",{attrs:{value:e,disabled:""}}),t._v(" "),n("span",[t._v(t._s(e)+"/5")])],1)])}),0)])])]),t._v(" "),n("div",{staticClass:"review-text-section"},[n("h3",[t._v("Review Comments")]),t._v(" "),n("div",{staticClass:"review-text"},[t._v("\n          "+t._s(t.selectedReview.review_text)+"\n        ")])]),t._v(" "),t.selectedReview.had_technical_issues?n("div",{staticClass:"technical-issues-section"},[n("h3",[t._v("Technical Issues")]),t._v(" "),n("Alert",{attrs:{type:"warning","show-icon":""}},[n("div",{attrs:{slot:"desc"},slot:"desc"},[t._v("\n            "+t._s(t.selectedReview.technical_issues_detail||"User reported technical issues but did not provide details.")+"\n          ")])])],1):t._e()]):t._e(),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{on:{click:function(e){t.showDetailModal=!1}}},[t._v("Close")])],1)])],1)},staticRenderFns:[]};var g=n("VU/8")(p,f,!1,function(t){n("a9Jm")},"data-v-47fa1e8c",null);e.default=g.exports},exGp:function(t,e,n){"use strict";e.__esModule=!0;var s=function(t){return t&&t.__esModule?t:{default:t}}(n("//Fk"));e.default=function(t){return function(){var e=t.apply(this,arguments);return new s.default(function(t,n){return function a(i,r){try{var o=e[i](r),c=o.value}catch(t){return void n(t)}if(!o.done)return s.default.resolve(c).then(function(t){a("next",t)},function(t){a("throw",t)});t(c)}("next")})}}},gSvA:function(t,e,n){var s=n("kM2E"),a=n("mbce")(!0);s(s.S,"Object",{entries:function(t){return a(t)}})},hQqS:function(t,e){},hiTU:function(t,e){},mbce:function(t,e,n){var s=n("+E39"),a=n("lktj"),i=n("TcQ7"),r=n("NpIQ").f;t.exports=function(t){return function(e){for(var n,o=i(e),c=a(o),l=c.length,u=0,d=[];l>u;)n=c[u++],s&&!r.call(o,n)||d.push(t?[n,o[n]]:o[n]);return d}}},rSDg:function(t,e){},uZQl:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTVDMzVBQTRBNjYzMTFFNEIxQzhCNjUwRDA0MEJFRDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTVDMzVBQTVBNjYzMTFFNEIxQzhCNjUwRDA0MEJFRDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNUMzNUFBMkE2NjMxMUU0QjFDOEI2NTBEMDQwQkVEOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNUMzNUFBM0E2NjMxMUU0QjFDOEI2NTBEMDQwQkVEOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pi2kbbcAAAZuSURBVHja7FtvaBxFFJ/bXBJTL2kpreXAoIjFWmoU22CjbcV/ra0STD9YxT+tNCEoCoJfil96KBHbCH6oIlEjVZFiqrEITVIl1WIRtVjF2kRsiC2lSWljzZ9Lckkud76Xexvmpnu7s3O7e3shP/iRvbnZmffezbx57+0mkEwmmS38Wq9fPQz8GHgdyy0uAXcA29nqJts3a1lMHPGB8oxk2K16c6Cv42lbN4SXLNAvR4Ah5g+gLGX9A2OergC/KI8oVb3RyABVwPeAZ4ATwBjwHPAL4BawcgHzL1C2LcCDJHOMdDhDOlWZbYEy4AfAxy0mOQHcBluh10+aww9zE/z5HFhp0bUFWAccxg9BasSN/R3wTom5cIKfgaPAa1UFHopOsnP9UTYVT8x8Xn3rkmz0HyOZlkr0xR/4ZuB6vE/fAvskldexFE7PYmWPNTbFei+MzCqfLUCWIknldaCu7+g+oAL4nNChDXgPOboQXbfxHRLJZFBV+Z7zwyyRSDq2/A1ksZSfYocKNMDz6Au4L9qB1cAfaZmP0nU1fUdm94fyBrLIyZ/S+QU0wP3CcG8Cpw2mwbY3OKvbkjHqlvJXyyIlP+FeNMCNQuMps0BY1QBn+6KuKG8gi5T8hHKNzk4ewyYDjM9OatN/TXPKa1rA2R2QLst/duIgNMC/QuMyq9WcMoC9X/OGcIgFCzRWXFjAlpeXOWoAzrgjFl3Fs/ZKkKIkPqm5HdhnMshp4F3TNg2wqLQIuNiVLcDJ0mXRdZXw+R+NAgge6y0GeQ1TUFgBQ36JAhOJxBClxa9bdN0gfP5FowiQx5NmSRKEwG3AZfCLrvOLARaVFq9DmeDysEXe84TQdgwbvwEOcI14KjwmMe/fGY4brxEnWaxQLZx46Ps60ACTwP1CZ1xKhRYD4n1+SIh6SRYzoC4NQhvqPKkv9UaKmHSslKyy/OkDA5yW6LObdNKBuu7ls8FLZCE+UtqFTgL4tcnAx4E1KtnfVRFKd2oXFga1mSNzYahI1gDHJZb+LqGtgXROc3aNQqSEAdIBSiQy4ZislGbK88A+2NcGzGSoIh0KhGiw0agiFCcveZlrwzpBB/ChDBP8bhE5uo1hksEID5LsC7i2y6RjPFNJrIc6xLi2EKWSrwhZo55gdMpGgri8raBvAUl0GpxEAZK1napcOmKkWw/f2SinP0r7+ivgNVy/t1iqJrgTztyzXP9WGT+Ae7piueORYKvwGY+5D4EPCO0TJONRo+DACLh0NmOsLLRj6twFRmgA6toc0vMDjxGlubEeuBhlolBYVP4K6dKRKTrKhO+Baw2OuhLgq5jhwqRvA68nR+M1DuDcKAPKQjKVGBzTaw2iXSkDMEqUKql+JrpwrMW/DOweGIxtUKsRqWfANGc3ySA+F0iQzJWkA1M1gO48XqLj8LcMR9ct4xPxgFfa41w4Z4avUca7SeaYZUHAxrw/AdcAtxmlncOjU7arRKrVH5zLAF0k2xqDDNcRA8zMDydAC+XVG4Ff6lbGAsmIsWCOAufgijFYoTpIsqBMLQZb1RRKpW0wAkrwLRKcUCl53vvGYvE7igq1ypLiYIlLS38c5jhBwQ86tk6QZbYKpPJwNJitUCTAIf1IAhTR+fyIw/ofBsNuBU46OWggixckzIBGwOeMzzok5ycs9TzPXHmPX5CwqhVsB9YCB7MYZ5DG2C6R8ytBc9lnNVMe/pFN55Sge1bSGK5B2QfYcDj9QMwf3oW/nwFXWPT/C/gUjH/Shh/y7QrgDXZS0jE+akf5nK0ABWwGxWSW8w+4Ylj6g0zXoHloAFQ+LLOi3d73uTKAreN5LhoAj7OLEv0u0BaYcz4AnyitkIgLVoGvGJyrW2CnQ33yawXAL38b5ecyyu2F/pjr74OVcCpvDQBKaKTwiyz1IpadVYlxfx2M8QdVdprBGIl82wJ7gO/bVF5EBY2xJx99QK2DY9X5fQvgub2Jpd4twCpsOSxZJ4siC1nqbdDzLFWawyr0EeZAIdZ+PUCP7Y88wwuHpaiNHp8o+F4DvvY6FN70qfsGqK9PL4REts5mg/spX88F8D9WdkRa07PBpqYmT31ADcsdanLhA/AxUzNYPcxyjzLOD/SrZJEqK0A2q/MaSlmkpjiRXxH2wgBzCq6FwpFIxNfjza+AeQPMGyC/fMD8CvCRAfp9rM9FLwxQqzKRB1CqJv8vwAAymiH3jxFymQAAAABJRU5ErkJggg=="},"us/S":function(t,e,n){t.exports={default:n("Xd32"),__esModule:!0}},vi5v:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("Dd8w"),a=n.n(s),i=n("NYxO"),r=n("IcnI"),o=n("mvHQ"),c=n.n(o),l=n("BO1k"),u=n.n(l),d=n("d7EF"),h=n.n(d),v=n("fZjL"),m=n.n(v),p=n("PJh5"),f=n.n(p),g=n("26Oo"),_=n("8Q2T"),w=n("95TO"),y=n("FN8c"),b={components:{ScreenFull:w.a},methods:{getContestRankData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=(e-1)*this.limit;this.showChart&&!n&&this.$refs.chart.showLoading({maskColor:"rgba(250, 250, 250, 0.8)"});var a={offset:s,limit:this.limit,contest_id:this.$route.params.contestID,force_refresh:this.forceUpdate?"1":"0"};_.a.getContestRank(a).then(function(s){t.showChart&&!n&&t.$refs.chart.hideLoading(),t.total=s.data.data.total,1===e&&t.applyToChart(s.data.data.results.slice(0,10)),t.applyToTable(s.data.data.results)})},handleAutoRefresh:function(t){var e=this;!0===t?this.refreshFunc=setInterval(function(){e.page=1,e.getContestRankData(1,!0)},1e4):clearInterval(this.refreshFunc)}},computed:a()({},Object(i.mapGetters)(["isContestAdmin"]),Object(i.mapState)({contest:function(t){return t.contest.contest},contestProblems:function(t){return t.contest.contestProblems}}),{showChart:{get:function(){return this.$store.state.contest.itemVisible.chart},set:function(t){this.$store.commit(r.b.CHANGE_CONTEST_ITEM_VISIBLE,{chart:t})}},showMenu:{get:function(){return this.$store.state.contest.itemVisible.menu},set:function(t){var e=this;this.$store.commit(r.b.CHANGE_CONTEST_ITEM_VISIBLE,{menu:t}),this.$nextTick(function(){e.showChart&&e.$refs.chart.resize(),e.$refs.tableRank.handleResize()})}},showRealName:{get:function(){return this.$store.state.contest.itemVisible.realName},set:function(t){this.$store.commit(r.b.CHANGE_CONTEST_ITEM_VISIBLE,{realName:t}),t?this.columns.splice(2,0,{title:"RealName",align:"center",width:150,render:function(t,e){return t("span",e.row.user.real_name)}}):this.columns.splice(2,1)}},forceUpdate:{get:function(){return this.$store.state.contest.forceUpdate},set:function(t){this.$store.commit(r.b.CHANGE_RANK_FORCE_UPDATE,{value:t})}},limit:{get:function(){return this.$store.state.contest.rankLimit},set:function(t){this.$store.commit(r.b.CHANGE_CONTEST_RANK_LIMIT,{rankLimit:t})}},refreshDisabled:function(){return this.contest.status===y.a.ENDED}}),beforeDestroy:function(){clearInterval(this.refreshFunc)}},C=n("2hfY"),R=n("oAV5"),x={name:"acm-contest-rank",components:{Pagination:g.a},mixins:[b],data:function(){var t=this;return{total:0,page:1,contestID:"",columns:[{align:"center",width:50,fixed:"left",render:function(e,n){return e("span",{},n.index+(t.page-1)*t.limit+1)}},{title:this.$i18n.t("m.User_User"),align:"center",fixed:"left",width:150,render:function(e,n){return e("a",{style:{display:"inline-block","max-width":"150px"},on:{click:function(){t.$router.push({name:"user-home",query:{username:n.row.user.username}})}}},n.row.user.username)}},{title:"AC / "+this.$i18n.t("m.Total"),align:"center",width:100,render:function(e,n){return e("span",{},[e("span",{},n.row.accepted_number+" / "),e("a",{on:{click:function(){t.$router.push({name:"contest-submission-list",query:{username:n.row.user.username}})}}},n.row.submission_number)])}},{title:this.$i18n.t("m.TotalTime"),align:"center",width:100,render:function(e,n){return e("span",t.parseTotalTime(n.row.total_time))}}],dataRank:[],options:{title:{text:this.$i18n.t("m.Top_10_Teams"),left:"center"},dataZoom:[{type:"inside",filterMode:"none",xAxisIndex:[0],start:0,end:100}],toolbox:{show:!0,feature:{saveAsImage:{show:!0,title:this.$i18n.t("m.save_as_image")}},right:"5%"},tooltip:{trigger:"axis",axisPointer:{type:"cross",axis:"x"}},legend:{orient:"vertical",y:"center",right:0,data:[],formatter:function(t){return R.a.breakLongWords(t,16)},textStyle:{fontSize:12}},grid:{x:80,x2:200},xAxis:[{type:"time",splitLine:!1,axisPointer:{show:!0,snap:!0}}],yAxis:[{type:"category",boundaryGap:!1,data:[0]}],series:[]}}},mounted:function(){var t=this;this.contestID=this.$route.params.contestID,this.getContestRankData(1),0===this.contestProblems.length?this.getContestProblems().then(function(e){t.addTableColumns(e.data.data),t.addChartCategory(e.data.data)}):(this.addTableColumns(this.contestProblems),this.addChartCategory(this.contestProblems))},methods:a()({},Object(i.mapActions)(["getContestProblems"]),{addChartCategory:function(t){for(var e=[],n=0;n<=t.length;++n)e.push(n);this.options.yAxis[0].data=e},applyToChart:function(t){var e=this,n=[],s=[];t.forEach(function(t){n.push(t.user.username);var a=t.submission_info,i=[];m()(a).forEach(function(t){a[t].is_ac&&i.push(a[t].ac_time)}),i.sort(function(t,e){return t-e});var r=[];r.push([e.contest.start_time,0]);var o=!0,c=!1,l=void 0;try{for(var d,v=u()(i.entries());!(o=(d=v.next()).done);o=!0){var p=d.value,g=h()(p,2),_=g[0],w=g[1],y=f()(e.contest.start_time).add(w,"seconds").format();r.push([y,_+1])}}catch(t){c=!0,l=t}finally{try{!o&&v.return&&v.return()}finally{if(c)throw l}}s.push({name:t.user.username,type:"line",data:r})}),this.options.legend.data=n,this.options.series=s},applyToTable:function(t){var e=JSON.parse(c()(t));e.forEach(function(t,n){var s=t.submission_info,a={};m()(s).forEach(function(t){e[n][t]=s[t],e[n][t].ac_time=C.a.secondFormat(e[n][t].ac_time);var i=s[t];i.is_first_ac?a[t]="first-ac":i.is_ac?a[t]="ac":a[t]="wa"}),e[n].cellClassName=a}),this.dataRank=e},addTableColumns:function(t){var e=this;t.forEach(function(n){e.columns.push({align:"center",key:n.id,width:t.length>15?80:null,renderHeader:function(t,s){return t("a",{class:{emphasis:!0},on:{click:function(){e.$router.push({name:"contest-problem-details",params:{contestID:e.contestID,problemID:n._id}})}}},n._id)},render:function(t,e){if(e.row[n.id]){var s=e.row[n.id],a=void 0,i=void 0;return s.is_ac&&(a=t("span",s.ac_time)),0!==s.error_number&&(i=t("p","(-"+s.error_number+")")),t("div",[a,i])}}})})},parseTotalTime:function(t){var e=f.a.duration(t,"s");return[Math.floor(e.asHours()),e.minutes(),e.seconds()].join(":")},downloadRankCSV:function(){R.a.downloadFile("contest_rank?download_csv=1&contest_id="+this.$route.params.contestID+"&force_refrash="+(this.forceUpdate?"1":"0"))}})},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Panel",{attrs:{shadow:""}},[n("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.contest.title))]),t._v(" "),n("div",{attrs:{slot:"extra"},slot:"extra"},[n("screen-full",{staticClass:"screen-full",attrs:{height:18,width:18}}),t._v(" "),n("Poptip",{attrs:{trigger:"hover",placement:"left-start"}},[n("Icon",{attrs:{type:"android-settings",size:"20"}}),t._v(" "),n("div",{attrs:{slot:"content",id:"switches"},slot:"content"},[n("p",[n("span",[t._v(t._s(t.$t("m.Menu")))]),t._v(" "),n("i-switch",{model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}}),t._v(" "),n("span",[t._v(t._s(t.$t("m.Chart")))]),t._v(" "),n("i-switch",{model:{value:t.showChart,callback:function(e){t.showChart=e},expression:"showChart"}})],1),t._v(" "),n("p",[n("span",[t._v(t._s(t.$t("m.Auto_Refresh"))+"(10s)")]),t._v(" "),n("i-switch",{attrs:{disabled:t.refreshDisabled},on:{"on-change":t.handleAutoRefresh}})],1),t._v(" "),t.isContestAdmin?[n("p",[n("span",[t._v(t._s(t.$t("m.RealName")))]),t._v(" "),n("i-switch",{model:{value:t.showRealName,callback:function(e){t.showRealName=e},expression:"showRealName"}})],1),t._v(" "),n("p",[n("span",[t._v(t._s(t.$t("m.Force_Update")))]),t._v(" "),n("i-switch",{attrs:{disabled:t.refreshDisabled},model:{value:t.forceUpdate,callback:function(e){t.forceUpdate=e},expression:"forceUpdate"}})],1)]:t._e(),t._v(" "),[n("Button",{attrs:{type:"primary",size:"small"},on:{click:t.downloadRankCSV}},[t._v(t._s(t.$t("m.download_csv")))])]],2)],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showChart,expression:"showChart"}],staticClass:"echarts"},[n("ECharts",{ref:"chart",attrs:{options:t.options,"auto-resize":""}})],1),t._v(" "),n("Table",{ref:"tableRank",attrs:{columns:t.columns,data:t.dataRank,"disabled-hover":"",height:"600"}}),t._v(" "),n("Pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.page,"show-sizer":""},on:{"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"update:current":function(e){t.page=e},"on-change":t.getContestRankData,"on-page-size-change":function(e){return t.getContestRankData(1)}}})],1)},staticRenderFns:[]};var A=n("VU/8")(x,k,!1,function(t){n("rSDg")},"data-v-b0d17c94",null).exports,I={name:"acm-contest-rank",components:{Pagination:g.a},mixins:[b],data:function(){var t=this;return{total:0,page:1,contestID:"",columns:[{align:"center",width:60,render:function(e,n){return e("span",{},n.index+(t.page-1)*t.limit+1)}},{title:this.$i18n.t("m.User_User"),align:"center",render:function(e,n){return e("a",{style:{display:"inline-block","max-width":"150px"},on:{click:function(){t.$router.push({name:"user-home",query:{username:n.row.user.username}})}}},n.row.user.username)}},{title:this.$i18n.t("m.Total_Score"),align:"center",render:function(e,n){return e("a",{on:{click:function(){t.$router.push({name:"contest-submission-list",query:{username:n.row.user.username}})}}},n.row.total_score)}}],dataRank:[],options:{title:{text:this.$i18n.t("m.Top_10_Teams"),left:"center"},tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!0},magicType:{show:!0,type:["line","bar"]},saveAsImage:{show:!0}},right:"10%"},calculable:!0,xAxis:[{type:"category",data:["root"],boundaryGap:!0,axisLabel:{interval:0,showMinLabel:!0,showMaxLabel:!0,align:"center",formatter:function(t,e){return R.a.breakLongWords(t,14)}},axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:this.$i18n.t("m.Score"),type:"bar",barMaxWidth:"80",data:[0],markPoint:{data:[{type:"max",name:"max"}]}}]}}},mounted:function(){var t=this;this.contestID=this.$route.params.contestID,this.getContestRankData(1),0===this.contestProblems.length?this.getContestProblems().then(function(e){t.addTableColumns(e.data.data)}):this.addTableColumns(this.contestProblems)},methods:a()({},Object(i.mapActions)(["getContestProblems"]),{applyToChart:function(t){var e=[],n=[];t.forEach(function(t){e.push(t.user.username),n.push(t.total_score)}),this.options.xAxis[0].data=e,this.options.series[0].data=n},applyToTable:function(t){var e=JSON.parse(c()(t));e.forEach(function(t,n){var s=t.submission_info;m()(s).forEach(function(t){e[n][t]=s[t]})}),this.dataRank=e},addTableColumns:function(t){var e=this;t.forEach(function(t){e.columns.push({align:"center",key:t.id,renderHeader:function(n,s){return n("a",{class:{emphasis:!0},on:{click:function(){e.$router.push({name:"contest-problem-details",params:{contestID:e.contestID,problemID:t._id}})}}},t._id)},render:function(e,n){return e("span",n.row[t.id])}})})},downloadRankCSV:function(){R.a.downloadFile("contest_rank?download_csv=1&contest_id="+this.$route.params.contestID+"&force_refrash="+(this.forceUpdate?"1":"0"))}})},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Panel",{attrs:{shadow:""}},[n("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.contest.title))]),t._v(" "),n("div",{attrs:{slot:"extra"},slot:"extra"},[n("screen-full",{staticClass:"screen-full",attrs:{height:18,width:18}}),t._v(" "),n("Poptip",{attrs:{trigger:"hover",placement:"left-start"}},[n("Icon",{attrs:{type:"android-settings",size:"20"}}),t._v(" "),n("div",{attrs:{slot:"content",id:"switches"},slot:"content"},[n("p",[n("span",[t._v(t._s(t.$t("m.Menu")))]),t._v(" "),n("i-switch",{model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}}),t._v(" "),n("span",[t._v(t._s(t.$t("m.Chart")))]),t._v(" "),n("i-switch",{model:{value:t.showChart,callback:function(e){t.showChart=e},expression:"showChart"}})],1),t._v(" "),n("p",[n("span",[t._v(t._s(t.$t("m.Auto_Refresh"))+"(10s)")]),t._v(" "),n("i-switch",{attrs:{disabled:t.refreshDisabled},on:{"on-change":t.handleAutoRefresh}})],1),t._v(" "),t.isContestAdmin?n("p",[n("span",[t._v(t._s(t.$t("m.RealName")))]),t._v(" "),n("i-switch",{model:{value:t.showRealName,callback:function(e){t.showRealName=e},expression:"showRealName"}})],1):t._e(),t._v(" "),n("p",[n("Button",{attrs:{type:"primary",size:"small"},on:{click:t.downloadRankCSV}},[t._v(t._s(t.$t("m.download_csv")))])],1)])],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showChart,expression:"showChart"}],staticClass:"echarts"},[n("ECharts",{ref:"chart",attrs:{options:t.options,"auto-resize":""}})],1),t._v(" "),n("Table",{ref:"tableRank",staticClass:"auto-resize",attrs:{columns:t.columns,data:t.dataRank,"disabled-hover":""}}),t._v(" "),n("Pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.page,"show-sizer":""},on:{"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"update:current":function(e){t.page=e},"on-change":t.getContestRankData,"on-page-size-change":function(e){return t.getContestRankData(1)}}})],1)},staticRenderFns:[]};var D={name:"contest-rank",components:{ACMContestRank:A,OIContestRank:n("VU/8")(I,T,!1,function(t){n("Mpez")},"data-v-356f8a10",null).exports,NullComponent:{name:"null-component",template:"<div></div>"}},computed:a()({},Object(i.mapGetters)(["contestRuleType"]),{currentView:function(){return null===this.contestRuleType?"NullComponent":"ACM"===this.contestRuleType?"ACMContestRank":"OIContestRank"}}),beforeRouteLeave:function(t,e,n){this.$store.commit(r.b.CHANGE_CONTEST_ITEM_VISIBLE,{menu:!0}),n()}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e(this.currentView,{tag:"component"})],1)},staticRenderFns:[]};var E=n("VU/8")(D,S,!1,function(t){n("N/8R")},"data-v-37117b76",null);e.default=E.exports},wEtr:function(t,e,n){n("gSvA"),t.exports=n("FeBl").Object.entries},zVEN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("BO1k"),a=n.n(s),i=n("Dd8w"),r=n.n(i),o=n("NYxO"),c=n("IcnI"),l=n("PJh5"),u=n.n(l),d=n("26Oo"),h=n("8Q2T"),v={name:"acm-helper",components:{Pagination:d.a},data:function(){var t=this;return{page:1,total:0,loadingTable:!1,columns:[{title:this.$i18n.t("m.AC_Time"),key:"ac_time"},{title:this.$i18n.t("m.ProblemID"),align:"center",key:"problem_display_id"},{title:this.$i18n.t("m.First_Blood"),align:"center",render:function(e,n){return n.row.ac_info.is_first_ac?e("Tag",{props:{color:"red"}},t.$i18n.t("m.First_Blood")):e("span","----")}},{title:this.$i18n.t("m.Username"),align:"center",render:function(e,n){var s=n.row;return e("a",{style:{display:"inline-block","max-width":"150px"},on:{click:function(){t.$router.push({name:"contest-submission-list",query:{username:s.username}})}}},s.username)}},{title:this.$i18n.t("m.RealName"),align:"center",render:function(t,e){return t("span",{style:{display:"inline-block","max-width":"150px"}},e.row.real_name)}},{title:this.$i18n.t("m.Status"),align:"center",render:function(e,n){var s=n.row;return e("Tag",{props:{color:s.checked?"green":"yellow"}},s.checked?t.$i18n.t("m.Checked"):t.$i18n.t("m.Not_Checked"))}},{title:this.$i18n.t("m.Option"),fixed:"right",align:"center",width:100,render:function(e,n){var s=n.row;return e("Button",{props:{type:"ghost",size:"small",icon:"checkmark",disabled:s.checked},on:{click:function(){t.updateCheckedStatus(s)}}},t.$i18n.t("m.Check_It"))}}],acInfo:[],pagedAcInfo:[],problemsMap:[]}},mounted:function(){var t=this;this.contestID=this.$route.params.contestID,0===this.contestProblems.length?this.getContestProblems().then(function(e){t.mapProblemDisplayID(),t.getACInfo()}):(this.mapProblemDisplayID(),this.getACInfo())},methods:r()({},Object(o.mapActions)(["getContestProblems"]),{mapProblemDisplayID:function(){var t={};this.contestProblems.forEach(function(e){t[e.id]=e._id}),this.problemsMap=t},getACInfo:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loadingTable=!0;var e={contest_id:this.$route.params.contestID};h.a.getACMACInfo(e).then(function(e){t.loadingTable=!1;var n=e.data.data;t.total=n.length,t.acInfo=n,t.handlePage()}).catch(function(){t.loadingTable=!1})},updateCheckedStatus:function(t){var e=this,n={rank_id:t.id,contest_id:this.contestID,problem_id:t.problem_id,checked:!0};h.a.updateACInfoCheckedStatus(n).then(function(t){e.$success("Succeeded"),e.getACInfo()}).catch(function(){})},handleAutoRefresh:function(t){var e=this;t?this.refreshFunc=setInterval(function(){e.page=1,e.getACInfo()},1e4):clearInterval(this.refreshFunc)},handlePage:function(){1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)&&(this.loadingTable=!0);var t=this.acInfo.slice((this.page-1)*this.limit,this.page*this.limit),e=!0,n=!1,s=void 0;try{for(var i,r=a()(t);!(e=(i=r.next()).done);e=!0){var o=i.value;o.init||(o.init=!0,o.problem_display_id=this.problemsMap[o.problem_id],o.ac_time=u()(this.contest.start_time).add(o.ac_info.ac_time,"seconds").local().format("YYYY-M-D  HH:mm:ss"))}}catch(t){n=!0,s=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw s}}this.pagedAcInfo=t,this.loadingTable=!1}}),computed:r()({},Object(o.mapState)({contest:function(t){return t.contest.contest},contestProblems:function(t){return t.contest.contestProblems}}),{limit:{get:function(){return this.$store.state.contest.rankLimit},set:function(t){this.$store.commit(c.b.CHANGE_CONTEST_RANK_LIMIT,{rankLimit:t})}}}),beforeDestroy:function(){clearInterval(this.refreshFunc)}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("panel",{attrs:{shadow:""}},[n("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("m.ACM_Helper")))]),t._v(" "),n("div",{attrs:{slot:"extra"},slot:"extra"},[n("ul",{staticClass:"filter"},[n("li",[t._v("\n        "+t._s(t.$t("m.Auto_Refresh"))+" (10s)\n        "),n("i-switch",{staticStyle:{"margin-left":"5px"},on:{"on-change":t.handleAutoRefresh}})],1),t._v(" "),n("li",[n("Button",{attrs:{type:"info"},on:{click:t.getACInfo}},[t._v(t._s(t.$t("m.Refresh")))])],1)])]),t._v(" "),n("Table",{attrs:{data:t.pagedAcInfo,columns:t.columns,loading:t.loadingTable,"disabled-hover":""}}),t._v(" "),n("pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.page,"show-sizer":""},on:{"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"update:current":function(e){t.page=e},"on-change":t.handlePage,"on-page-size-change":function(e){return t.handlePage(1)}}})],1)},staticRenderFns:[]};var p=n("VU/8")(v,m,!1,function(t){n("hQqS")},"data-v-7591711a",null);e.default=p.exports},"zo/Y":function(t,e){}});